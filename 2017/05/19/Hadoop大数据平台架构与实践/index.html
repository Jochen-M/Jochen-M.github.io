<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hadoop大数据平台架构与实践 | Jochen-M</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="What Is Apache Hadoop? The Apache™ Hadoop® project develops open-source software for reliable, scalable, distributed computing.The Apache Hadoop software library is a framework that allows for the dis">
<meta name="keywords" content="Hadoop">
<meta property="og:type" content="article">
<meta property="og:title" content="Hadoop大数据平台架构与实践">
<meta property="og:url" content="http://jochen-m.github.io/2017/05/19/Hadoop大数据平台架构与实践/index.html">
<meta property="og:site_name" content="Jochen-M">
<meta property="og:description" content="What Is Apache Hadoop? The Apache™ Hadoop® project develops open-source software for reliable, scalable, distributed computing.The Apache Hadoop software library is a framework that allows for the dis">
<meta property="og:updated_time" content="2017-06-02T05:35:29.020Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hadoop大数据平台架构与实践">
<meta name="twitter:description" content="What Is Apache Hadoop? The Apache™ Hadoop® project develops open-source software for reliable, scalable, distributed computing.The Apache Hadoop software library is a framework that allows for the dis">
  
    <link rel="alternate" href="/atom.xml" title="Jochen-M" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jochen-M</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://jochen-m.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Hadoop大数据平台架构与实践" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/19/Hadoop大数据平台架构与实践/" class="article-date">
  <time datetime="2017-05-19T14:06:37.000Z" itemprop="datePublished">2017-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/大数据/">大数据</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Hadoop大数据平台架构与实践
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="What-Is-Apache-Hadoop"><a href="#What-Is-Apache-Hadoop" class="headerlink" title="What Is Apache Hadoop?"></a>What Is Apache Hadoop?</h3><blockquote>
<p>The Apache™ Hadoop® project develops open-source software for reliable, scalable, distributed computing.<br>The Apache Hadoop software library is a framework that allows for the distributed processing of large data sets across clusters of computers using simple programming models. It is designed to scale up from single servers to thousands of machines, each offering local computation and storage. Rather than rely on hardware to deliver high-availability, the library itself is designed to detect and handle failures at the application layer, so delivering a highly-available service on top of a cluster of computers, each of which may be prone to failures.</p>
</blockquote>
<a id="more"></a>
<blockquote>
<h4 id="The-project-includes-these-modules"><a href="#The-project-includes-these-modules" class="headerlink" title="The project includes these modules:"></a>The project includes these modules:</h4><ul>
<li><em>Hadoop Common</em>: The common utilities that support the other Hadoop modules.</li>
<li><em>Hadoop Distributed File System (HDFS™)</em>: A distributed file system that provides high-throughput access to application data.</li>
<li><em>Hadoop YARN</em>: A framework for job scheduling and cluster resource management.</li>
<li><em>Hadoop MapReduce</em>: A YARN-based system for parallel processing of large data sets.</li>
</ul>
<h4 id="And-other-Hadoop-related-projects-at-Apache"><a href="#And-other-Hadoop-related-projects-at-Apache" class="headerlink" title="And other Hadoop-related projects at Apache."></a>And other Hadoop-related projects at Apache.</h4></blockquote>
<h3 id="Hadoop安装（以hadoop-1-2-1为例）"><a href="#Hadoop安装（以hadoop-1-2-1为例）" class="headerlink" title="Hadoop安装（以hadoop-1.2.1为例）"></a>Hadoop安装（以hadoop-1.2.1为例）</h3><h4 id="准备条件"><a href="#准备条件" class="headerlink" title="准备条件"></a>准备条件</h4><ul>
<li>Linux操作系统</li>
<li>安装JDK以及配置相关环境变量</li>
<li>下载Hadoop安装包，如：hadoop-1.2.1.tar.gz（官网下载地址：<a href="http://hadoop.apache.org/releases.html" target="_blank" rel="external">http://hadoop.apache.org/releases.html</a>）</li>
</ul>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>将hadoop-1.2.1.tar.gz解压到指定目录，如：/opt/hadoop-1.2.1/</p>
<h4 id="配置hadoop环境变量"><a href="#配置hadoop环境变量" class="headerlink" title="配置hadoop环境变量"></a>配置hadoop环境变量</h4><p>在/etc/profile中配置如下信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=/opt/jdk1.8.0_131</div><div class="line">export JRE_HOME=/opt/jdk1.8.0_131/jre</div><div class="line">export HADOOP_HOME=/opt/hadoop-1.2.1</div><div class="line">export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/Lib</div><div class="line">export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$HADOOP_HOME/bin:$PATH</div></pre></td></tr></table></figure></p>
<h4 id="修改四个配置文件"><a href="#修改四个配置文件" class="headerlink" title="修改四个配置文件"></a>修改四个配置文件</h4><p>这四个配置文件均在/opt/hadoop-1.2.1/conf/目录下。</p>
<ul>
<li><p>(a)修改hadoop-env.sh,设置JAVA_HOME:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># The java implementation to use.  Required.</div><div class="line">export JAVA_HOME=/opt/jdk1.8.0_131</div></pre></td></tr></table></figure>
</li>
<li><p>(b)修改core-site.xml,设置hadoop.tmp.dir,dfs.name.dir,fs.default.name:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">  &lt;property&gt;</div><div class="line">    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;     &lt;!-- hadoop临时工作目录 --&gt;</div><div class="line">    &lt;value&gt;/home/jochen/hadoop&lt;/value&gt;</div><div class="line">  &lt;/property&gt;</div><div class="line"></div><div class="line">  &lt;property&gt;</div><div class="line">    &lt;name&gt;dfs.name.dir&lt;/name&gt;       &lt;!-- hadoop源数据目录 --&gt;</div><div class="line">    &lt;value&gt;/home/jochen/hadoop/name&lt;/value&gt;</div><div class="line">  &lt;/property&gt;</div><div class="line"></div><div class="line">  &lt;property&gt;</div><div class="line">    &lt;name&gt;fs.default.name&lt;/name&gt;    &lt;!-- 文件系统namenode =&gt; 地址：端口号 --&gt;</div><div class="line">    &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</div><div class="line">  &lt;/property&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>(c)修改mapred-site.xml,设置mapred.job.tracker:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">  &lt;property&gt;</div><div class="line">    &lt;name&gt;mapred.job.tracker&lt;/name&gt;</div><div class="line">    &lt;value&gt;localhost:9001&lt;/value&gt;</div><div class="line">  &lt;/property&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>(d)修改hdfs-site.xml,设置dfs.data.dir:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">  &lt;property&gt;</div><div class="line">    &lt;name&gt;dfs.data.dir&lt;/name&gt;       &lt;!-- dfs文件块存放目录 --&gt;</div><div class="line">    &lt;value&gt;/home/jochen/hadoop/data&lt;/value&gt;</div><div class="line">  &lt;/property&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h4><p>执行命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hadoop namenode -format</div></pre></td></tr></table></figure></p>
<p>正确执行的结果如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">Warning: $HADOOP_HOME is deprecated.</div><div class="line"></div><div class="line">17/05/19 23:46:05 INFO namenode.NameNode: STARTUP_MSG: </div><div class="line">/************************************************************</div><div class="line">STARTUP_MSG: Starting NameNode</div><div class="line">STARTUP_MSG:   host = ubuntu/127.0.0.1</div><div class="line">STARTUP_MSG:   args = [-format]</div><div class="line">STARTUP_MSG:   version = 1.2.1</div><div class="line">STARTUP_MSG:   build = https://svn.apache.org/repos/asf/hadoop/common/branches/branch-1.2 -r 1503152; compiled by &apos;mattf&apos; on Mon Jul 22 15:23:09 PDT 2013</div><div class="line">STARTUP_MSG:   java = 1.8.0_131</div><div class="line">************************************************************/</div><div class="line">17/05/19 23:46:05 INFO util.GSet: Computing capacity for map BlocksMap</div><div class="line">17/05/19 23:46:05 INFO util.GSet: VM type       = 64-bit</div><div class="line">17/05/19 23:46:05 INFO util.GSet: 2.0% max memory = 932184064</div><div class="line">17/05/19 23:46:05 INFO util.GSet: capacity      = 2^21 = 2097152 entries</div><div class="line">17/05/19 23:46:05 INFO util.GSet: recommended=2097152, actual=2097152</div><div class="line">17/05/19 23:46:05 INFO namenode.FSNamesystem: fsOwner=jochen</div><div class="line">17/05/19 23:46:05 INFO namenode.FSNamesystem: supergroup=supergroup</div><div class="line">17/05/19 23:46:05 INFO namenode.FSNamesystem: isPermissionEnabled=true</div><div class="line">17/05/19 23:46:05 INFO namenode.FSNamesystem: dfs.block.invalidate.limit=100</div><div class="line">17/05/19 23:46:05 INFO namenode.FSNamesystem: isAccessTokenEnabled=false accessKeyUpdateInterval=0 min(s), accessTokenLifetime=0 min(s)</div><div class="line">17/05/19 23:46:05 INFO namenode.FSEditLog: dfs.namenode.edits.toleration.length = 0</div><div class="line">17/05/19 23:46:05 INFO namenode.NameNode: Caching file names occuring more than 10 times </div><div class="line">17/05/19 23:46:05 INFO common.Storage: Image file /home/jochen/hadoop/dfs/name/current/fsimage of size 112 bytes saved in 0 seconds.</div><div class="line">17/05/19 23:46:06 INFO namenode.FSEditLog: closing edit log: position=4, editlog=/home/jochen/hadoop/dfs/name/current/edits</div><div class="line">17/05/19 23:46:06 INFO namenode.FSEditLog: close success: truncate to 4, editlog=/home/jochen/hadoop/dfs/name/current/edits</div><div class="line">17/05/19 23:46:06 INFO common.Storage: Storage directory /home/jochen/hadoop/dfs/name has been successfully formatted.</div><div class="line">17/05/19 23:46:06 INFO namenode.NameNode: SHUTDOWN_MSG: </div><div class="line">/************************************************************</div><div class="line">SHUTDOWN_MSG: Shutting down NameNode at ubuntu/127.0.0.1</div><div class="line">************************************************************/</div></pre></td></tr></table></figure></p>
<h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ cd /opt/hadoop-1.2.1/bin</div><div class="line">$ ./start-all.sh</div></pre></td></tr></table></figure>
<h4 id="查看当前运行的java进程"><a href="#查看当前运行的java进程" class="headerlink" title="查看当前运行的java进程"></a>查看当前运行的java进程</h4><p>在Terminal输入命令，出现如下结果表示hadoop安装成功：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ jps</div><div class="line">12785 JobTracker</div><div class="line">1161 Jps</div><div class="line">23626 TaskTracker</div><div class="line">23275 DataNode</div><div class="line">21659 NameNode</div><div class="line">23436 SecondaryNameNode</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jochen-m.github.io/2017/05/19/Hadoop大数据平台架构与实践/" data-id="cj3ff59fq00047pjximnizhz0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hadoop/">Hadoop</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/05/26/Nodejs-Express-MongoDB快速搭建网站/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Nodejs + Express + MongoDB快速搭建网站
        
      </div>
    </a>
  
  
    <a href="/2017/05/16/Nodejs的使用技巧/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Nodejs的使用技巧</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nodejs/">Nodejs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flink/">Flink</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/">Hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Laravel/">Laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NexT/">NexT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/Flink/" style="font-size: 10px;">Flink</a> <a href="/tags/Github/" style="font-size: 20px;">Github</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Laravel/" style="font-size: 10px;">Laravel</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NexT/" style="font-size: 10px;">NexT</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Nodejs/" style="font-size: 20px;">Nodejs</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/Ubuntu/" style="font-size: 20px;">Ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/02/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/06/01/将本地项目推送到git/">将本地项目推送到git</a>
          </li>
        
          <li>
            <a href="/2017/05/26/Nodejs-Express-MongoDB快速搭建网站/">Nodejs + Express + MongoDB快速搭建网站</a>
          </li>
        
          <li>
            <a href="/2017/05/19/Hadoop大数据平台架构与实践/">Hadoop大数据平台架构与实践</a>
          </li>
        
          <li>
            <a href="/2017/05/16/Nodejs的使用技巧/">Nodejs的使用技巧</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Jochen-M<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>